---
published: true
title:  "따라하며 배우는 C++ Section 18. 입력과 출력"
excerpt: ""

categories:
  - 따배씨++
tags:
  - [C++]

toc: true
toc_sticky: true
 
date: 2022-05-06
last_modified_at: 2022-05-06 
---

# 🤔 학습목표
- 따라하며 배우는 C++ Section 18. 입력과 출력

# 📃 학습내용
## 📍 **따라하며 배우는 C++ Section 18. 입력과 출력**

### **🌱 18.1 istream으로 입력받기**

**istream**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	// input/output manipulators

using namespace std;

int main()   
{
	cout << "Enter a number" << endl;
	
	int i;
	cin >> i;  // 입력

	cout << i << endl;  // 출력

	return 0;
}
```

- 기본자료형, string 사용가능

___

**버퍼**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	// input/output manipulators

using namespace std;

int main()   
{
	char buf[10];

	cin >> buf;   // 콘솔창에 입력한 데이터가 buf에 저장됨 
	cout << buf << endl;

	return 0;
}
```

- 스트림은 버퍼에 저장된 데이터 일부를 꺼내오는 방식임

___

**setw()**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	// input/output manipulators

using namespace std;

int main()
{
	char buf[5];

	cin >> setw(5) >> buf; // abcdefghijk
	cout << buf << endl; // abcd

	cin >> setw(5) >> buf;
	cout << buf << endl; // efgh

	cin >> setw(5) >> buf;
	cout << buf << endl; // ijk

	return 0;
}
```

- `#include <iomanip>` 의 `setw()` 최대 5글자만 받도록 제한하는 것
  - 입력받은 글자들이 버퍼로 들어가고 그중 5개만 가져오는 것임
  - 나머지 글자도 버퍼에 갖고있음

___

**한글자씩 계속 가져오기**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	char ch;

	while (cin >> ch) // Hello world
		cout << ch; // Helloworld

	return 0;
}
```

- cin으로 부터 가져올때는 빈칸을 무시함

___

**빈칸으로 구분해서 입력 받기**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
	int i;
	float f;

	cin >> i >> f; // 1 3.14

	cout << i << " " << f << endl; // 1 3.14

	return 0;
}
```

- 빈칸으로 구분해서 입력 받음

**`cin.get()` 빈칸도 입력받기**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
	char ch;

	while (cin.get(ch)) // Hello, World!
		cout << ch; // Hello, World!

	return 0;
}
```

- 빈칸 그대로 입력받아서 가져올수 있음

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	char buf[5];

	cin.get(buf, 5);
	cout << buf << endl; // Hell

	cin.get(buf, 5);
	cout << buf << endl; // o, W

	return 0;
}
```

___

**cin.gcount()**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	char buf[5];

	cin.get(buf, 5); // Hello, World!!!
	cout << cin.gcount() << " " << buf << endl; // 4 Hell

	cin.get(buf, 5);
	cout << cin.gcount() << " " << buf << endl; // 4 o, W

	return 0;
}
```

- cin 할때 몇글자 입력받았는지 출력해줌

**getline()**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	char buf[5];

	cin.getline(buf, 5); // Hello, World!!!
	cout << cin.gcount() << " " << buf << endl; // 4 Hell

	cin.getline(buf, 5);
	cout << cin.gcount() << " " << buf << endl; // 0

	return 0;
}
```

- 첫번째 `getline()` 이 입력을 다 읽어버려서 두번째 `getline()` 에선 읽을게 없기 때문에 0이 나온것
- 줄바꿈 캐릭터 `\0` 까지 같이 읽어드림 

**string 읽기**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
	string buf;

	getline(cin, buf);   // string 의 getline 이다.
	cout << cin.gcount() << " " << buf << endl; // 0 string문자열

	return 0;
}
```

- cin으로 받지않고 getline 으로 받았으니 `cin.gcount()` 가 0이나옴

___

**cin.ignore()**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
	char buf[1024];

	cin.ignore(); // hello
    cin >> buf;
    cout << buf << endl; // ello

	return 0;
}
```

- 입력받을때 한글자를 무시함
- (2) 안에 2등의 숫자를 넣어주면 2글자를 무시하는 기능임

___

**cin.peek()**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
	char buf[1024];

    cout << (char)cin.peek() << endl;
    cin >> buf;
    cout << buf << endl;

	return 0;
}
```

- peek() 은 버퍼를 살짝 들여다보고 꺼내지는 않는것
- 버퍼에서 가장 먼저 가져올 글자를 가져옴

___

**cin.unget**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
	char buf[1024];

    cin >> buf; // o
    cout << buf << endl; // hello

    cin.unget();

    cin >> buf;
    cout << buf << endl; // o

	return 0;
}
```

- cin.unget(); 은 마지막에 출력했던 문자 하나를 다시 버퍼에 집어넣음

___

**cin.putback**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
    char buf[1024];

    cin >> buf; // o
    cout << buf << endl; // hello

    cin.putback('A');

    cin >> buf;
    cout << buf << endl; // A

    return 0;
}
```

- 원하는 문자를 버퍼에 넣는 것

### **🌱 18.2 ostream으로 출력하기**

- `cout.setf()` 를 사용해서 flag를 설정할수 있음
- `cout.unsetf()` 으로 setflag를 취소할수 있음

___

**`cout.setf(std::ios::showpos)` 으로 +기호 붙이기**

```cpp
#include <iostream>
#include <iomanip>	

using namespace std;

int main()
{
    cout.setf(std::ios::showpos);
    cout << 108 << endl; // +108

    cout << 109 << endl; // +109

    cout.unsetf(std::ios::showpos);
    cout << 110 << endl; // 110

    return 0;
}
```

- `cout.setf(std::ios::showpos)` 설정을해주면 + 기호가 붙도록 flag를 설정할수 있음
- `cout.unsetf()` 으로 setflag를 취소할수 있음

___

**16진수 출력하기**

**방법 1**

```cpp
#include <iostream>
#include <iomanip>	

using namespace std;

int main()
{
    cout.unsetf(std::ios::dec); // 10진수 unset
    cout.setf(std::ios::hex);// 16진수 set
    cout << 108 << endl; // 6c


    return 0;
}
```

- 10진수모드를 꺼주고 16진수 모드를 설정하면 바꿀수 있음

**방법 2**

```cpp
#include <iostream>
#include <iomanip>	

using namespace std;

int main()
{
    cout.setf(std::ios::hex, std::ios::basefield);
    cout << 108 << endl; // 6c


    return 0;
}
```

- basefield에서 hex를 set해주는효과
- basefield는 필드가 여러개가있는데 그중 베이스필드의 flag를 설정해주는것

**방법 3**

```cpp
#include <iostream>
#include <iomanip>	

using namespace std;

int main()
{
    cout << std::hex;
    cout << 108 << endl; // 6c

    cout << 109 << endl; // 6d

    cout << std::dec;
    cout << 110 << endl; // 110

    return 0;
}
```

___

**`cout.setf(std::ios::uppercase);` 16진수를 대문자로 출력하기**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
    cout.setf(std::ios::uppercase);
    // cout<< std::hex << std::uppercase 위코드와 동일한 효과

    cout << std::hex;
    cout << 108 << endl; // 6C

    cout << std::dec;
    cout << 108 << endl; // 108

    return 0;
}
```

___

**boolalpha**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
    cout << std::boolalpha;
    cout << true << " " << false << endl; // true false

    return 0;
}
```

- true, false 로 출력해주는 기능

___

**부동소수점 정밀도 제어**

**setprecision**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	cout << std::defaultfloat; // 
	cout << std::setprecision(3) << 123.456 << endl; // 123
	cout << std::setprecision(4) << 123.456 << endl; // 123.5
	cout << std::setprecision(5) << 123.456 << endl; // 123.46
	cout << std::setprecision(6) << 123.456 << endl; // 123.456
	cout << std::setprecision(7) << 123.456 << endl; // 123.456

	return 0;
}
```

- `cout << std::defaultfloat;` 기본적으로 해줘도되고 안해도됨
  - 다른 모드로 설정이 되어있지않으면 디폴트상태임
- () 안의 문자만큼만 출력되고 소수점은 반올림해서 출력이됨

**fixed**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	cout << std::fixed; 
	cout << std::setprecision(3) << 123.456 << endl; // 123.456
	cout << std::setprecision(4) << 123.456 << endl; // 123.4560
	cout << std::setprecision(5) << 123.456 << endl; // 123.45600
	cout << std::setprecision(6) << 123.456 << endl; // 123.456000
	cout << std::setprecision(7) << 123.456 << endl; // 123.4560000

	return 0;
}
```

- 소수점 뒷자리가 고정되어 출력됨

**scientific**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	cout << std::scientific; 
	cout << std::setprecision(3) << 123.456 << endl; // 1.235e+02
	cout << std::setprecision(4) << 123.456 << endl; // 1.2346e+02
	cout << std::setprecision(5) << 123.456 << endl; // 1.23456e+02
	cout << std::setprecision(6) << 123.456 << endl; // 1.234560e+02
	cout << std::setprecision(7) << 123.456 << endl; // 1.2345600e+02

	return 0;
}
```

- 1.235 * e+02 와같은 방식으로 출력해줌
- uppercase 를 사용하면 e를 대문자로 출력가능

**showpoint**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()
{
	cout << std::showpoint; 
	cout << std::setprecision(3) << 123.456 << endl; // 123.
	cout << std::setprecision(4) << 123.456 << endl; // 123.5
	cout << std::setprecision(5) << 123.456 << endl; // 123.46
	cout << std::setprecision(6) << 123.456 << endl; // 123.456
	cout << std::setprecision(7) << 123.456 << endl; // 123.4560

	return 0;
}
```

- defaultfloat 상태에선 `123`만 나오고 `.` 이 안나왔었는데 showpoint를 사용하면 소수점도 출력할수 있음


**문자의 폭 지정**

```cpp
#include <iostream>
#include <string>
#include <iomanip>	

using namespace std;

int main()   
{
    cout << -12345 << endl;
    cout << std::setw(10) << std::left << -12345 << endl;
    cout << std::setw(10) << std::right << -12345 << endl;
    cout << std::setw(10) << std::internal << -12345 << endl;
    
    cout.fill('*');
    cout << std::setw(10) << -12345 << endl;
    cout << std::setw(10) << std::left << -12345 << endl;
    cout << std::setw(10) << std::right << -12345 << endl;
    cout << std::setw(10) << std::internal << -12345 << endl;

    //     -12345
    // -12345
    //     -12345
    // -    12345
    // -****12345
    // -12345****
    // ****-12345
    // -****12345
	
	return 0;
}
```

- `setw(10)` 10자리를 채우라는 것 
- `std::left` 왼쪽 붙임
- `std::right` 오른쪽 붙임
- `std::internal` 부호만 빼고 오른쪽 붙임
- `cout.fill('*');` 공란 `*` 으로 채우기









### **🌱 **

### **🌱 **

### **🌱 **

# 😊 배우게 된 점


# 📌참조링크
인프런 **따라하면서 배우는 C++** - [https://www.inflearn.com/course/following-c-plus](https://www.inflearn.com/course/following-c-plus)